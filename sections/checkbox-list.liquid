<div class="page-width">
  {%- for block in section.blocks -%}
    {%- case block.type -%}
      {%- when 'image_top' -%}
        <img
          id="top_divider_image"
          src="{{ block.settings.top_divider_image_desktop | img_url: '375x20' }}"
          loading="lazy"
          height="20"
          width="375"
        >
    {%- endcase -%}
  {%- endfor -%}
  <div
    class="checklist-container {% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
  >
    <h2 id="checklist-title">
      {{ section.settings.title }}
    </h2>

    <img
      id="cornerImage1"
      src="{{section.settings.cornerImage1 | img_url: '75x75'}}"
      loading="lazy"
      height="75"
      width="75"
    >
    <img
      id="cornerImage2"
      src="{{section.settings.cornerImage2 | img_url: '100x100'}}"
      loading="lazy"
      height="100"
      width="100"
    >
    <ul id="checklist">
      {% for block in section.blocks %}
        {%- case block.type -%}
          {%- when 'list' -%}
            <div class="bullet__wrapper">
              <img
                src="{{ block.settings.bullet_image |img_url: '35x35' }}"
                loading="lazy"
                height="35"
                width="35"
              >
              <p>{{ block.settings.bulletText }}</p>
            </div>
        {%- endcase -%}
      {% endfor %}
    </ul>
  </div>

  {%- for block in section.blocks -%}
    {%- case block.type -%}
      {%- when 'image_bottom' -%}
        <img
          id="bottom_divider_image"
          src="{{ block.settings.bottom_divider_image_desktop | img_url: '375x20' }}"
          loading="lazy"
          height="20"
          width="375"
        >
    {%- endcase -%}
  {%- endfor -%}
</div>

{% schema %}
{
  "name": "Checkbox List",
  "class": "section",
  "tag": "section",
  "disabled_on": {
  "groups": ["header", "footer"]
},
  "settings": [

          {
    "type": "text",
    "id": "title",
    "default": "Checklist",
    "label": "Main Heading"
  },{
            "type": "image_picker",
            "id": "cornerImage1",
            "label": "Top Left Corner Image"
  },{
            "type": "image_picker",
            "id": "cornerImage2",
            "label": "Bottom Right Corner Image"
  }
  ],
    "blocks":[
      {
        "type": "list",
        "name": "Bullet",
        "settings":[
            {
            "type": "image_picker",
              "id": "bullet_image",
            "label": "Bullet Image"
          },
          {
            "type": "text",
            "id": "bulletText",
            "label": "Bullet Text"
          }
            ]
      },
    {
      "type": "image_bottom",
      "name": "Bottom Divider Image",
      "limit": 1,
      "settings":[
        {
          "type": "image_picker",
          "id": "bottom_divider_image_desktop",
          "label": "Desktop Image"
        },
                {
          "type": "image_picker",
          "id": "bottom_divider_image_mobile",
          "label": "Mobile Image"
        }
      ]

    },    {
      "type": "image_top",
      "name": "Top Divider Image",
      "limit": 1,
      "settings":[
        {
          "type": "image_picker",
          "id": "top_divider_image_desktop",
          "label": "Desktop Image"
        },
                {
          "type": "image_picker",
          "id": "top_divider_image_mobile",
          "label": "Mobile Image"
        }
      ]

    }
    ],  "presets":[
    {
      "name": "Checkbox List"
    }]

}
{% endschema %}

{% stylesheet %}
        .checklist-container{
          display: flex;
          margin: 10%;
          border: 1px solid #65113B;
          border-radius: 7px;
          content-align: center;
          justify-content: center;
          position: relative;
          padding: 20px 0px 0px;
        }
          .bullet__wrapper {
        display: flex;
        align-items: center;
        justify-content: left;
      }

      .bullet__wrapper > img {
        max-width: 100%;
        max-height:100%;
      }

      .bullet__wrapper > p {
        padding-left: 20px;
        text-align: left;
        font-size: 16px;
        padding-right: 10%;
      }

  .bullet__wrapper > ul{
  display: block;
  }

      #cornerImage1{
        position: absolute;
        top: calc(max(10vw,75px)/-2);
        left: calc(max(10vw,75px)/-2);
        z-index:1;
      }
      #cornerImage2{
        position: absolute;
        bottom: calc(max(10vw,75px)/-2);
        right: calc(max(10vw,75px)/-2);
      }
      #checklist-title {
        position: absolute;
        top: -14px;
        background-color: #FFFEF2;
        margin:0;
        text-align: center;
    }
    @media screen and (min-width: 767px) {
    .bullet__wrapper {
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 33.33%;
      top:0;
      height: 100%;
    }
      .bullet__wrapper > p {
        text-align: center;
        height: 50%;
      }
     #checklist {
        display: flex;
        flex-direction: row;
        margin: 3rem;
      }

      #cornerImage1, #cornerImage2{
        width: max(calc(100vw/10),75px);
        height: auto;
      }
      .bullet__wrapper > img{
        width: 75px;
        height: auto;
      }
  }
  ul{
    padding: 0;
  }
  .checklist-container{
    padding-bottom: 0;
  }
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
